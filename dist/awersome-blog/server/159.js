"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=159,exports.ids=[159],exports.modules={88402:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N0:()=>JwtHelperService});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40305),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89318),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51138),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25095),_angular_common_http__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48664);const JWT_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("JWT_OPTIONS");class JwtHelperService{constructor(config=null){this.tokenGetter=config&&config.tokenGetter||function(){}}urlBase64Decode(str){let output=str.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(output)}b64decode(str){let output="";if((str=String(str).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let bs,buffer,bc=0,idx=0;buffer=str.charAt(idx++);~buffer&&(bs=bc%4?64*bs+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0)buffer="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(buffer);return output}b64DecodeUnicode(str){return decodeURIComponent(Array.prototype.map.call(this.b64decode(str),c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(token=this.tokenGetter()){return token instanceof Promise?token.then(t=>this._decodeToken(t)):this._decodeToken(token)}_decodeToken(token){if(!token||""===token)return null;const parts=token.split(".");if(3!==parts.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const decoded=this.urlBase64Decode(parts[1]);if(!decoded)throw new Error("Cannot decode the token.");return JSON.parse(decoded)}getTokenExpirationDate(token=this.tokenGetter()){return token instanceof Promise?token.then(t=>this._getTokenExpirationDate(t)):this._getTokenExpirationDate(token)}_getTokenExpirationDate(token){let decoded;if(decoded=this.decodeToken(token),!decoded||!decoded.hasOwnProperty("exp"))return null;const date=new Date(0);return date.setUTCSeconds(decoded.exp),date}isTokenExpired(token=this.tokenGetter(),offsetSeconds){return token instanceof Promise?token.then(t=>this._isTokenExpired(t,offsetSeconds)):this._isTokenExpired(token,offsetSeconds)}_isTokenExpired(token,offsetSeconds){if(!token||""===token)return!0;const date=this.getTokenExpirationDate(token);return offsetSeconds=offsetSeconds||0,null!==date&&!(date.valueOf()>(new Date).valueOf()+1e3*offsetSeconds)}getAuthScheme(authScheme,request){return"function"==typeof authScheme?authScheme(request):authScheme}}__name(JwtHelperService,"JwtHelperService"),JwtHelperService.\u0275fac=__name(function(t){return new(t||JwtHelperService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(JWT_OPTIONS))},"JwtHelperService_Factory"),JwtHelperService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:JwtHelperService,factory:JwtHelperService.\u0275fac});const fromPromiseOrValue=__name(input=>input instanceof Promise?(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.defer)(()=>input):(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(input),"fromPromiseOrValue");class JwtInterceptor{constructor(config,jwtHelper,document2){this.jwtHelper=jwtHelper,this.document=document2,this.standardPorts=["80","443"],this.tokenGetter=config.tokenGetter,this.headerName=config.headerName||"Authorization",this.authScheme=config.authScheme||""===config.authScheme?config.authScheme:"Bearer ",this.allowedDomains=config.allowedDomains||[],this.disallowedRoutes=config.disallowedRoutes||[],this.throwNoTokenError=config.throwNoTokenError||!1,this.skipWhenExpired=config.skipWhenExpired}isAllowedDomain(request){const requestUrl=new URL(request.url,this.document.location.origin);if(requestUrl.host===this.document.location.host)return!0;const hostName=`${requestUrl.hostname}${requestUrl.port&&!this.standardPorts.includes(requestUrl.port)?":"+requestUrl.port:""}`;return this.allowedDomains.findIndex(domain=>"string"==typeof domain?domain===hostName:domain instanceof RegExp&&domain.test(hostName))>-1}isDisallowedRoute(request){const requestedUrl=new URL(request.url,this.document.location.origin);return this.disallowedRoutes.findIndex(route=>{if("string"==typeof route){const parsedRoute=new URL(route,this.document.location.origin);return parsedRoute.hostname===requestedUrl.hostname&&parsedRoute.pathname===requestedUrl.pathname}return route instanceof RegExp&&route.test(request.url)})>-1}handleInterception(token,request,next){const authScheme=this.jwtHelper.getAuthScheme(this.authScheme,request);if(!token&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let tokenIsExpired=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(!1);return this.skipWhenExpired&&(tokenIsExpired=token?fromPromiseOrValue(this.jwtHelper.isTokenExpired(token)):(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(!0)),token?tokenIsExpired.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(isExpired=>isExpired&&this.skipWhenExpired?request.clone():request.clone({setHeaders:{[this.headerName]:`${authScheme}${token}`}})),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.zg)(innerRequest=>next.handle(innerRequest))):next.handle(request)}intercept(request,next){if(!this.isAllowedDomain(request)||this.isDisallowedRoute(request))return next.handle(request);const token=this.tokenGetter(request);return fromPromiseOrValue(token).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.zg)(asyncToken=>this.handleInterception(asyncToken,request,next)))}}__name(JwtInterceptor,"JwtInterceptor"),JwtInterceptor.\u0275fac=__name(function(t){return new(t||JwtInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(JWT_OPTIONS),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(JwtHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_3__.K0))},"JwtInterceptor_Factory"),JwtInterceptor.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:JwtInterceptor,factory:JwtInterceptor.\u0275fac});class JwtModule{constructor(parentModule){if(parentModule)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(options){return{ngModule:JwtModule,providers:[{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_4__.TP,useClass:JwtInterceptor,multi:!0},options.jwtOptionsProvider||{provide:JWT_OPTIONS,useValue:options.config},JwtHelperService]}}}__name(JwtModule,"JwtModule"),JwtModule.\u0275fac=__name(function(t){return new(t||JwtModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(JwtModule,12))},"JwtModule_Factory"),JwtModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:JwtModule}),JwtModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})},23119:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>SpinnerAction,l:()=>AuthLoginComponent});var SpinnerAction,SpinnerAction2,_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43070),_auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88402),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40305),_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94846),ngx_toastr__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16299),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14195),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89318),angular_feather__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61750);(SpinnerAction2=SpinnerAction||(SpinnerAction={})).HIDDEN="hidden",SpinnerAction2.VISIBLE="visible";class AuthLoginComponent{constructor(formBuilder,_authService,toast,_router,location2){this.formBuilder=formBuilder,this._authService=_authService,this.toast=toast,this._router=_router,this.location=location2,this.submitted=!1,this.jwtHelper=new _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_1__.N0}ngOnInit(){this.init()}init(){this.loginForm=this.formBuilder.group({email:["",[_angular_forms__WEBPACK_IMPORTED_MODULE_2__.kI.required]],password:["",[_angular_forms__WEBPACK_IMPORTED_MODULE_2__.kI.required]]})}ShowHideSpinner(action){document.getElementById("spinner").style.visibility=action}login(){const form=this.loginForm.value;this.ShowHideSpinner(SpinnerAction.VISIBLE),this._authService.login(form.email,form.password).subscribe({next:res=>{if(console.log("result",res),400==res.statusCode)return this.toast.error("Email ou mot de passe incorrect !"),void this.ShowHideSpinner(SpinnerAction.HIDDEN);this.toast.success("Connexion r\xe9ussie !"),this.location.back(),this.ShowHideSpinner(SpinnerAction.HIDDEN)},error:error=>(console.log("Error",error),0==error.status?(this.toast.error("Impossible de se connecter , v\xe9rifiez votre connexion internet et r\xe9\xe9ssayez!"),void this.ShowHideSpinner(SpinnerAction.HIDDEN)):(this.toast.error("Une erreur est survenue , v\xe9rifiez votre connexion internet et r\xe9\xe9ssayez!"),void this.ShowHideSpinner(SpinnerAction.HIDDEN)))})}}__name(AuthLoginComponent,"AuthLoginComponent"),AuthLoginComponent.\u0275fac=__name(function(t){return new(t||AuthLoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_forms__WEBPACK_IMPORTED_MODULE_2__.qu),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_auth_service__WEBPACK_IMPORTED_MODULE_0__.e),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(ngx_toastr__WEBPACK_IMPORTED_MODULE_4__._W),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_common__WEBPACK_IMPORTED_MODULE_6__.Ye))},"AuthLoginComponent_Factory"),AuthLoginComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:AuthLoginComponent,selectors:[["app-auth-login"]],decls:55,vars:2,consts:[[1,"back-to-home","rounded","d-none","d-sm-block"],["routerLink","/",1,"btn","btn-icon","btn-soft-primary"],["name","home",1,"icons"],[1,"bg-home","d-flex","align-items-center"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-7","col-md-6"],[1,"me-lg-5"],["src","assets/images/user/login.svg","alt","",1,"img-fluid","d-block","mx-auto"],[1,"col-lg-5","col-md-6"],[1,"card","login-page","bg-white","shadow","rounded","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"login-form","mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-icon","position-relative"],["name","mail",1,"fea","icon-sm","icons"],["type","email","formControlName","email","placeholder","Email","name","email","required","",1,"form-control","ps-5"],["name","key",1,"fea","icon-sm","icons"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control","ps-5"],[1,"d-flex","justify-content-between"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"forgot-pass","mb-0"],["routerLink","/auth/re-password",1,"text-dark","fw-bold"],[1,"col-lg-12","mb-0"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","status","aria-hidden","true","id","spinner",1,"spinner-border","spinner-border-sm",2,"visibility","hidden"],[1,"col-12","text-center"],[1,"mb-0","mt-3"],[1,"text-dark","me-2"],["routerLink","/auth/signup",1,"text-dark","fw-bold"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0)(1,"a",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(2,"i-feather",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(8,"img",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"h4",12),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(13,"Login"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(14,"form",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("ngSubmit",__name(function(){return ctx.login()},"AuthLoginComponent_Template_form_ngSubmit_14_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(19,"Your Email "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(20,"span",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(21,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(22,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(23,"i-feather",20)(24,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(25,"div",15)(26,"div",16)(27,"label",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(28,"Password "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(29,"span",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(30,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(31,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(32,"i-feather",22)(33,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(34,"div",15)(35,"div",24)(36,"div",16)(37,"div",25),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(38,"input",26),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(39,"label",27),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(40,"Remember me"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(41,"p",28)(42,"a",29),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(43,"Forgot password ?"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(44,"div",30)(45,"div",31)(46,"button",32),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(47,"Sign in "),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(48,"span",33),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(49,"div",34)(50,"p",35)(51,"small",36),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(52,"Don't have an account ?"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(53,"a",37),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(54,"Sign Up"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()()()()()()()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(14),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formGroup",ctx.loginForm),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(32),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",ctx.loginForm.invalid))},"AuthLoginComponent_Template"),dependencies:[_angular_router__WEBPACK_IMPORTED_MODULE_5__.rH,angular_feather__WEBPACK_IMPORTED_MODULE_7__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_2__._Y,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.u]})},93159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AuthModule:()=>AuthModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),auth_login_component=__webpack_require__(23119),core=__webpack_require__(40305),angular_feather=__webpack_require__(61750),fesm2020_forms=__webpack_require__(43070);class AuthRePasswordComponent{constructor(){}ngOnInit(){}}__name(AuthRePasswordComponent,"AuthRePasswordComponent"),AuthRePasswordComponent.\u0275fac=__name(function(t){return new(t||AuthRePasswordComponent)},"AuthRePasswordComponent_Factory"),AuthRePasswordComponent.\u0275cmp=core.Xpm({type:AuthRePasswordComponent,selectors:[["app-auth-re-password"]],decls:37,vars:0,consts:[[1,"back-to-home","rounded","d-none","d-sm-block"],["routerLink","/",1,"btn","btn-icon","btn-soft-primary"],["name","home",1,"icons"],[1,"bg-home","d-flex","align-items-center"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-7","col-md-6"],[1,"me-lg-5"],["src","assets/images/user/recovery.svg","alt","",1,"img-fluid","d-block","mx-auto"],[1,"col-lg-5","col-md-6"],[1,"card","shadow","rounded","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"login-form","mt-4"],[1,"row"],[1,"col-lg-12"],[1,"text-muted"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-icon","position-relative"],["name","mail",1,"fea","icon-sm","icons"],["type","email","placeholder","Enter Your Email Address","name","email","required","",1,"form-control","ps-5"],[1,"d-grid"],[1,"btn","btn-primary"],[1,"mx-auto"],[1,"mb-0","mt-3"],[1,"text-dark","me-2"],["routerLink","/auth/login",1,"text-dark","fw-bold"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"a",1),core._UZ(2,"i-feather",2),core.qZA()(),core.TgZ(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),core._UZ(8,"img",8),core.qZA()(),core.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"h4",12),core._uU(13,"Recover Account"),core.qZA(),core.TgZ(14,"form",13)(15,"div",14)(16,"div",15)(17,"p",16),core._uU(18,"Please enter your email address. You will receive a link to create a new password via email."),core.qZA(),core.TgZ(19,"div",17)(20,"label",18),core._uU(21,"Email address "),core.TgZ(22,"span",19),core._uU(23,"*"),core.qZA()(),core.TgZ(24,"div",20),core._UZ(25,"i-feather",21)(26,"input",22),core.qZA()()(),core.TgZ(27,"div",15)(28,"div",23)(29,"button",24),core._uU(30,"Send"),core.qZA()()(),core.TgZ(31,"div",25)(32,"p",26)(33,"small",27),core._uU(34,"Remember your password ?"),core.qZA(),core.TgZ(35,"a",28),core._uU(36,"Sign in"),core.qZA()()()()()()()()()()())},"AuthRePasswordComponent_Template"),dependencies:[router.rH,angular_feather.u,fesm2020_forms._Y,fesm2020_forms.JL,fesm2020_forms.F]});class AuthSignupComponent{constructor(){}ngOnInit(){}}__name(AuthSignupComponent,"AuthSignupComponent"),AuthSignupComponent.\u0275fac=__name(function(t){return new(t||AuthSignupComponent)},"AuthSignupComponent_Factory"),AuthSignupComponent.\u0275cmp=core.Xpm({type:AuthSignupComponent,selectors:[["app-auth-signup"]],decls:61,vars:0,consts:[[1,"back-to-home","rounded","d-none","d-sm-block"],["routerLink","/",1,"btn","btn-icon","btn-soft-primary"],["name","home",1,"icons"],[1,"bg-auth-home","d-table","w-100"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-7","col-md-6"],[1,"me-lg-5"],["src","assets/images/user/signup.svg","alt","",1,"img-fluid","d-block","mx-auto"],[1,"col-lg-5","col-md-6"],[1,"card","shadow","rounded","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"login-form","mt-4"],[1,"row"],[1,"col-md-12"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-icon","position-relative"],["name","user-check",1,"fea","icon-sm","icons"],["type","text","placeholder","Username","name","s","required","",1,"form-control","ps-5"],["name","mail",1,"fea","icon-sm","icons"],["type","email","placeholder","Email","name","email","required","",1,"form-control","ps-5"],["name","key",1,"fea","icon-sm","icons"],["type","password","placeholder","Password","required","",1,"form-control","ps-5"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["routerLink","/auth-signup",1,"text-primary"],[1,"d-grid"],[1,"btn","btn-primary"],[1,"mx-auto"],[1,"mb-0","mt-3"],[1,"text-dark","me-2"],["routerLink","/auth/login",1,"text-dark","fw-bold"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"a",1),core._UZ(2,"i-feather",2),core.qZA()(),core.TgZ(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),core._UZ(8,"img",8),core.qZA()(),core.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"h4",12),core._uU(13,"Signup"),core.qZA(),core.TgZ(14,"form",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"label",17),core._uU(19,"Username "),core.TgZ(20,"span",18),core._uU(21,"*"),core.qZA()(),core.TgZ(22,"div",19),core._UZ(23,"i-feather",20)(24,"input",21),core.qZA()()(),core.TgZ(25,"div",15)(26,"div",16)(27,"label",17),core._uU(28,"Your Email "),core.TgZ(29,"span",18),core._uU(30,"*"),core.qZA()(),core.TgZ(31,"div",19),core._UZ(32,"i-feather",22)(33,"input",23),core.qZA()()(),core.TgZ(34,"div",15)(35,"div",16)(36,"label",17),core._uU(37,"Password "),core.TgZ(38,"span",18),core._uU(39,"*"),core.qZA()(),core.TgZ(40,"div",19),core._UZ(41,"i-feather",24)(42,"input",25),core.qZA()()(),core.TgZ(43,"div",15)(44,"div",16)(45,"div",26),core._UZ(46,"input",27),core.TgZ(47,"label",28),core._uU(48,"I Accept "),core.TgZ(49,"a",29),core._uU(50,"Terms And Condition"),core.qZA()()()()(),core.TgZ(51,"div",15)(52,"div",30)(53,"button",31),core._uU(54,"Register"),core.qZA()()(),core.TgZ(55,"div",32)(56,"p",33)(57,"small",34),core._uU(58,"Already have an account ?"),core.qZA(),core.TgZ(59,"a",35),core._uU(60,"Sign in"),core.qZA()()()()()()()()()()())},"AuthSignupComponent_Template"),dependencies:[router.rH,angular_feather.u,fesm2020_forms._Y,fesm2020_forms.JL,fesm2020_forms.F]});const routes=[{path:"login",component:auth_login_component.l},{path:"re-password",component:AuthRePasswordComponent},{path:"signup",component:AuthSignupComponent}];class AuthRoutingModule{}__name(AuthRoutingModule,"AuthRoutingModule"),AuthRoutingModule.\u0275fac=__name(function(t){return new(t||AuthRoutingModule)},"AuthRoutingModule_Factory"),AuthRoutingModule.\u0275mod=core.oAB({type:AuthRoutingModule}),AuthRoutingModule.\u0275inj=core.cJS({imports:[router.Bz.forChild(routes),router.Bz]});var shared_module=__webpack_require__(65483);class AuthModule{}__name(AuthModule,"AuthModule"),AuthModule.\u0275fac=__name(function(t){return new(t||AuthModule)},"AuthModule_Factory"),AuthModule.\u0275mod=core.oAB({type:AuthModule}),AuthModule.\u0275inj=core.cJS({imports:[common.ez,AuthRoutingModule,shared_module.m]})},94846:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>AuthService});var _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88402),src_environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97354),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48664),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51138),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(40305),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14195);class AuthService{constructor(httpClient,router){this.httpClient=httpClient,this.router=router,this.host=src_environments_environment__WEBPACK_IMPORTED_MODULE_0__.N.apiUrl,this.jwtHelper=new _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_1__.N0}isAuthenticated(){const token=localStorage.getItem("blog_user");return!!token&&!this.jwtHelper.isTokenExpired(token)}get currentUser(){return localStorage.getItem("blog_user")}get decodedToken(){return this.jwtHelper.decodeToken(this.currentUser)}login(email,password){return this.httpClient.post(this.host+"/auth/login/",{email,password},{observe:"body"}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.d)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.bw)({next:response=>{console.log("response",response),localStorage.setItem("blog_user",response.data.token),console.log(this.decodedToken),console.log("Connexion r\xe9ussie !")},error:error=>{throw console.log("server error :",error),new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.UA({status:409,statusText:"An Error Occured"})}}))}register(email,username,password){return this.httpClient.post(this.host+"/auth/signup/",{email,password,username},{observe:"body"})}saveToken(jwt){new _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_1__.N0;return localStorage.setItem("blog_user",jwt),!0}logOut(){localStorage.removeItem("blog_user"),this.router.ngOnDestroy(),this.router.dispose(),location.href="/pages/auth/login"}getCurrentUser(id){return this.httpClient.get(`${this.host}/users/${id}/`).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.d)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(resp=>resp.data))}}__name(AuthService,"AuthService"),AuthService.\u0275fac=__name(function(t){return new(t||AuthService)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"AuthService_Factory"),AuthService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:AuthService,factory:AuthService.\u0275fac,providedIn:"root"})},97354:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>environment});const environment={production:!1,apiUrl:"http://localhost:3000"}}};